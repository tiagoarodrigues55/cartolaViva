<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>cadastrar-se</title>
</head>
<link rel="stylesheet" href="cartola.css">
<body>
  <nav id="menu">
        <h1>Menu</h1>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="propaganda.html">Monte seu time</a></li>
            <li><a href="tabela.html">Tabela</a></li>
            <li><a href="midia.html">Fotos e Vídeos</a></li>
            <li><a href="patrocinadores.html">Mais sobre nossos apoiadores</a></li>
            <li><a href="contatos.html">Quem somos e contatos</a></li>
            <li><a href="comoAjudar.html">Como Ajudar</a></li>
        </ul>
    </nav>
     <section style="position: relative; top: 150px;"><form>
            
            <h1>Cadastre-se</h1>
            <img src="logo2.png" style="width: 200px; float: right; position: relative; bottom: 20px;">
            <input type="text" placeholder="nome completo" id="nome">
            <input type="text" placeholder="nome do time" id="nomeTime">
            <input type="email" placeholder="email" id="email"><br>
            <input type="password" placeholder="senha" id="senha"><br>
            <input type="password" placeholder="confirmar senha" id="confirm"><br>
            <button onclick="cadastrar()">cadastrar-se</button>
            
        </form></section>
        <script>
       function cadastrar(){
          var usuarios = JSON.parse(localStorage.getItem('list_usuarios')) || []
          var emails = JSON.parse(localStorage.getItem('list_emails')) || []
          var senhas = JSON.parse(localStorage.getItem('list_senhas')) || []

          var nome = document.getElementById('nome').value
          var nomeTime = document.getElementById('nomeTime').value
          var email = document.getElementById('email').value
          var senha = document.getElementById('senha').value
          var confirm = document.getElementById('confirm').value
          var vivacoins = 30
          if (emails.indexOf(email)== -1){
            if (nome.length != 0 && nomeTime.length != 0 && email.length != 0 && senha.length != 0){
              if (senha === confirm){
                usuarios.push({nome, nomeTime, email, senha, vivacoins})
                emails.push(email)
                senhas.push(senha)
                console.log(usuarios)
                localStorage.setItem('list_usuarios', JSON.stringify(usuarios))
                localStorage.setItem('list_emails', JSON.stringify(emails))
                localStorage.setItem('list_senhas', JSON.stringify(senhas))
                window.location.href = 'index.html'
              }else{
                alert('A senha e a senha confirmada são diferentes')
              }
            }else{
              alert('Preencha todos os campos')
            }
          }else{
            alert('Esse email já está sendo utilizado')
          }
        }
        </script>
</body>
</html>